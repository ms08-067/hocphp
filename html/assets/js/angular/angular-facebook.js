!function(t,e){"use strict";var n,o={},i={sdk:!1,ready:!1};e.module("facebook",[]).value("settings",o).value("flags",i).provider("Facebook",[function(){o.appId=null,this.setAppId=function(t){o.appId=t},this.getAppId=function(){return o.appId},o.locale="en_US",this.setLocale=function(t){o.locale=t},this.getLocale=function(){return o.locale},o.status=!0,this.setStatus=function(t){o.status=t},this.getStatus=function(){return o.status},o.channelUrl=null,this.setChannel=function(t){o.channelUrl=t},this.getChannel=function(){return o.channelUrl},o.cookie=!0,this.setCookie=function(t){o.cookie=t},this.getCookie=function(){return o.cookie},o.xfbml=!0,this.setXfbml=function(t){o.xfbml=t},this.getXfbml=function(){return o.xfbml},this.setAuthResponse=function(t){o.authResponse=t||!0},this.getAuthResponse=function(){return o.authResponse},o.frictionlessRequests=!1,this.setFrictionlessRequests=function(t){o.frictionlessRequests=t},this.getFrictionlessRequests=function(){return o.frictionlessRequests},o.hideFlashCallback=null,this.setHideFlashCallback=function(t){o.hideFlashCallback=t||null},this.getHideFlashCallback=function(){return o.hideFlashCallback},this.setInitCustomOption=function(t,n){return e.isString(t)?(o[t]=n,o[t]):!1},this.getInitOption=function(t){return e.isString(t)&&o.hasOwnProperty(t)?o[t]:!1},o.loadSDK=!0,this.setLoadSDK=function(t){o.loadSDK=!!t},this.getLoadSDK=function(){return o.loadSDK},o.version="v2.0",this.setSdkVersion=function(t){o.version=t},this.getSdkVersion=function(){return o.version},this.init=function(t,n){e.isString(t)&&(o.appId=t),e.isNumber(t)&&(o.appId=t.toString()),e.isObject(t)&&e.extend(o,t),e.isDefined(n)&&(o.loadSDK=!!n)},this.$get=["$q","$rootScope","$timeout","$window",function(t,s,r,c){function u(){this.appId=o.appId}return u.prototype.isReady=function(){return i.ready},u.prototype.login=function(){var n,o,i=t.defer(),s=Array.prototype.slice.call(arguments);return e.forEach(s,function(t,i){e.isFunction(t)&&(n=t,o=i)}),e.isFunction(n)&&e.isNumber(o)&&s.splice(o,1,function(t){r(function(){t&&e.isUndefined(t.error)?i.resolve(t):i.reject(t),e.isFunction(n)&&n(t)})}),this.isReady()?c.FB.login.apply(c.FB,s):r(function(){i.reject("Facebook.login() called before Facebook SDK has loaded.")}),i.promise},e.forEach(["logout","api","ui","getLoginStatus"],function(o){u.prototype[o]=function(){var i,s,u=t.defer(),a=Array.prototype.slice.call(arguments);return e.forEach(a,function(t,n){e.isFunction(t)&&(i=t,s=n)}),e.isFunction(i)&&e.isNumber(s)&&a.splice(s,1,function(t){r(function(){t&&e.isUndefined(t.error)?u.resolve(t):u.reject(t),e.isFunction(i)&&i(t)})}),r(function(){n.promise.then(function(){c.FB[o].apply(FB,a)})}),u.promise}}),u.prototype.parseXFBML=function(){var e=t.defer();return r(function(){n.promise.then(function(){c.FB.XFBML.parse(),e.resolve()})}),e.promise},e.forEach(["subscribe","unsubscribe"],function(o){u.prototype[o]=function(){var i,s,u=t.defer(),a=Array.prototype.slice.call(arguments);return e.forEach(a,function(t,n){e.isFunction(t)&&(i=t,s=n)}),e.isFunction(i)&&e.isNumber(s)&&a.splice(s,1,function(t){r(function(){t&&e.isUndefined(t.error)?u.resolve(t):u.reject(t),e.isFunction(i)&&i(t)})}),r(function(){n.promise.then(function(){c.FB.Event[o].apply(FB,a)})}),u.promise}}),new u}]}]).run(["$rootScope","$q","$window","$timeout",function(t,s,r,c){n=s.defer();var u=o.loadSDK;delete o.loadSDK,r.fbAsyncInit=function(){c(function(){if(!o.appId)throw"Missing appId setting.";FB.init(o),i.ready=!0,e.forEach({"auth.login":"login","auth.logout":"logout","auth.prompt":"prompt","auth.sessionChange":"sessionChange","auth.statusChange":"statusChange","auth.authResponseChange":"authResponseChange","xfbml.render":"xfbmlRender","edge.create":"like","edge.remove":"unlike","comment.create":"comment","comment.remove":"uncomment"},function(e,n){FB.Event.subscribe(n,function(n){c(function(){t.$broadcast("Facebook:"+e,n)})})}),t.$broadcast("Facebook:load"),n.resolve(FB)})},function(){var t=document.getElementById("fb-root");return t||(t=document.createElement("div"),t.id="fb-root",document.body.insertBefore(t,document.body.childNodes[0])),t}(),u&&!function(){var t="//connect.facebook.net/"+o.locale+"/sdk.js",e=document.createElement("script");e.id="facebook-jssdk",e.async=!0,-1!==r.location.protocol.indexOf("file:")&&(t="https:"+t),e.src=t,e.onload=function(){i.sdk=!0},document.getElementsByTagName("head")[0].appendChild(e)}()}])}(window,angular);